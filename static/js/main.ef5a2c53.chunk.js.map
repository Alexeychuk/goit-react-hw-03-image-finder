{"version":3,"sources":["components/Modal/Modal.module.css","components/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","services/api.js","helpers/mapper.js","components/SearchForm/SearchForm.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Modal/Modal.js","components/App/index.jsx","index.js","components/App/App.module.css"],"names":["module","exports","axios","defaults","baseURL","pageNumber","query","get","then","response","data","hits","catch","err","console","log","item","id","webformatURL","largeImageURL","likes","views","comments","downloads","SearchForm","state","input","handleInput","e","setState","target","value","handleSubmit","onSubmit","props","preventDefault","this","className","styles","searchForm","type","autoComplete","placeholder","onChange","Component","PhotoCard","image","onModalOpen","photoCard","src","alt","stats","statsItem","fullscreenButton","onClick","Gallery","images","gallery","map","key","Modal","overlayRef","createRef","handleEsc","onModalClose","keyCode","handleClick","current","window","addEventListener","removeEventListener","modalImage","overlay","onKeyDown","role","tabIndex","ref","modal","App","getImages","mapper","scrollTo","handleLoadMore","prevState","top","document","body","scrollHeight","behavior","app","button","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ef5a2c53.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__29civ\",\"modal\":\"Modal_modal__1LJe_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__2ksQm\",\"stats\":\"PhotoCard_stats__1cYsq\",\"statsItem\":\"PhotoCard_statsItem__QmQtx\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__32ik2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__ixo2M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2Xqdk\"};","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n// `/?image_type=photo&orientation=horizontal&q=cat&page=${this.state.pageNumber}&per_page=12&key=${process.env.API_KEY}`;\n\nexport default (pageNumber, query = '') => {\n  return axios\n    .get(\n      `/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=12&key=13633512-2e4920fb59ca05e5eb038b80e`,\n    )\n    .then(response => response.data.hits)\n    .catch(err => console.log(err));\n};\n","export default item => {\n  const {\n    id,\n    webformatURL,\n    largeImageURL,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = item;\n  return { id, webformatURL, largeImageURL, likes, views, comments, downloads };\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  state = {\n    input: '',\n  };\n\n  handleInput = e => {\n    this.setState({ input: e.target.value });\n  };\n\n  handleSubmit = e => {\n    const { onSubmit } = this.props;\n    const { input } = this.state;\n\n    e.preventDefault();\n    onSubmit(input);\n  };\n\n  render() {\n    const { input } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          value={input}\n          onChange={this.handleInput}\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  image: { webformatURL, largeImageURL, likes, views, comments, downloads },\n  onModalOpen,\n}) => (\n  <div className={styles.photoCard}>\n    <img src={webformatURL} alt=\"\" />\n\n    <div className={styles.stats}>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n    <button\n      type=\"button\"\n      className={styles.fullscreenButton}\n      onClick={() => onModalOpen(largeImageURL)}\n    >\n      <i className=\"material-icons\">zoom_out_map</i>\n    </button>\n  </div>\n);\n\nPhotoCard.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n  }).isRequired,\n  onModalOpen: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\n\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ images, onModalOpen }) => (\n  <ul className={styles.gallery}>\n    {images.map(image => (\n      <li key={image.id} className=\"galleryItem\">\n        <PhotoCard image={image} onModalOpen={onModalOpen} />{' '}\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n  onModalOpen: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  overlayRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEsc);\n  }\n\n  handleEsc = e => {\n    const { onModalClose } = this.props;\n\n    if (e.keyCode === 27) onModalClose();\n  };\n\n  handleClick = e => {\n    const { onModalClose } = this.props;\n    if (e.target === this.overlayRef.current) onModalClose();\n  };\n\n  render() {\n    const { modalImage } = this.props;\n    return (\n      <div\n        className={styles.overlay}\n        onClick={this.handleClick}\n        onKeyDown={() => {}}\n        role=\"button\"\n        tabIndex={0}\n        ref={this.overlayRef}\n      >\n        <div className={styles.modal}>\n          <img src={modalImage} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\nModal.propTypes = {\n  modalImage: PropTypes.string.isRequired,\n  onModalClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport getImages from '../../services/api';\nimport mapper from '../../helpers/mapper';\n\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../Gallery/Gallery';\nimport Modal from '../Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    query: null,\n    pageNumber: 1,\n    modalImage: false,\n  };\n\n  componentDidMount() {\n    const { pageNumber } = this.state;\n    getImages(pageNumber)\n      .then(data => {\n        this.setState({ images: data.map(mapper) });\n      })\n      .catch(err => console.log(err));\n  }\n\n  onSubmit = query => {\n    const { pageNumber } = this.state;\n\n    this.setState({ query, pageNumber: 1 }, () => {\n      getImages(pageNumber, query)\n        .then(data => {\n          this.setState({ images: data.map(mapper) });\n          window.scrollTo();\n        })\n        .catch(err => console.log(err));\n    });\n  };\n\n  onModalOpen = image => {\n    this.setState({ modalImage: image });\n  };\n\n  onModalClose = () => {\n    this.setState({ modalImage: null });\n  };\n\n  handleLoadMore = () => {\n    this.setState(\n      prevState => ({ pageNumber: prevState.pageNumber + 1 }),\n      () => {\n        const { pageNumber, query, images } = this.state;\n        getImages(pageNumber, query)\n          .then(data => {\n            this.setState({\n              images: [...images, ...data.map(mapper)],\n            });\n            window.scrollTo({\n              top: document.body.scrollHeight,\n              behavior: 'smooth',\n            });\n          })\n          .catch(err => console.log(err));\n      },\n    );\n  };\n\n  render() {\n    const { images, modalImage } = this.state;\n\n    return (\n      <div className={styles.app}>\n        <SearchForm onSubmit={this.onSubmit} />\n        <Gallery images={images} onModalOpen={this.onModalOpen} />\n        {modalImage && (\n          <Modal modalImage={modalImage} onModalClose={this.onModalClose} />\n        )}\n\n        <button\n          type=\"button\"\n          className={styles.button}\n          onClick={this.handleLoadMore}\n        >\n          Load more\n        </button>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/index';\nimport './styles.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2XwxN\",\"button\":\"App_button__3WnNX\"};"],"sourceRoot":""}